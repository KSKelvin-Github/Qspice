ÿØÿÛ«schematic
  «component (-2200,-200) 0 0
    «symbol V
      «type: V»
      «description: Independent Voltage Source»
      «shorted pins: false»
      «line (0,-130) (0,-200) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,130) 0 0 0x1000000 -1 -1»
      «rect (-25,77) (25,73) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-2,50) (2,100) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-25,-73) (25,-77) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «ellipse (-130,130) (130,-130) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "V1"»
      «text (150,-150) 1 7 0 0x1000000 -1 -1 "DC 0.5"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (1100,1900) 2 0
    «symbol L
      «type: L»
      «description: Inductor»
      «shorted pins: false»
      «line (0,200) (0,180) 0 0 0x1000000 -1 -1»
      «line (0,-200) (0,-180) 0 0 0x1000000 -1 -1»
      «coil (-80,180) (80,-180) 0 0 0 0x1000000 -1 -1»
      «text (80,0) 1 110 0 0x1000000 -1 -1 "L1"»
      «text (-80,0) 1 109 0 0x1000000 -1 -1 "L"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "1"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "2"»
    »
  »
  «component (1600,1600) 0 0
    «symbol C
      «type: C»
      «description: Capacitor»
      «shorted pins: false»
      «line (0,200) (0,40) 0 0 0x1000000 -1 -1»
      «line (0,-40) (0,-200) 0 0 0x1000000 -1 -1»
      «rect (-130,-40) (130,-30) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-130,30) (130,40) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "C1"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "C"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (2100,1600) 0 0
    «symbol R
      «type: R»
      «description: Resistor(USA Style Symbol)»
      «shorted pins: false»
      «line (0,200) (0,180) 0 0 0x1000000 -1 -1»
      «line (0,-180) (0,-200) 0 0 0x1000000 -1 -1»
      «zigzag (-80,180) (80,-180) 0 0 0 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "R1"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "R"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "1"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "2"»
    »
  »
  «component (-2200,400) 0 0
    «symbol V
      «type: V»
      «description: Independent Voltage Source»
      «shorted pins: false»
      «line (0,-130) (0,-200) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,130) 0 0 0x1000000 -1 -1»
      «rect (-25,77) (25,73) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-2,50) (2,100) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-25,-73) (25,-77) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «ellipse (-130,130) (130,-130) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (180,150) 1 7 0 0x1000000 -1 -1 "Vperturb"»
      «text (180,-150) 1 7 0 0x1000000 -1 -1 "0"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (-1300,-100) 0 0
    «symbol V
      «type: V»
      «description: Independent Voltage Source»
      «shorted pins: false»
      «line (0,-130) (0,-200) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,130) 0 0 0x1000000 -1 -1»
      «rect (-25,77) (25,73) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-2,50) (2,100) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-25,-73) (25,-77) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «ellipse (-130,130) (130,-130) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "V2"»
      «text (200,-150) 0.926 7 0 0x1000000 -1 -1 "pulse 0 1 0 0.5/fsw 0.5/fsw 0 1/fsw"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (700,1600) 0 0
    «symbol D
      «type: D»
      «description: Silicon Diode»
      «library file: Diode.txt»
      «shorted pins: false»
      «line (100,80) (-100,80) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,80) 0 0 0x1000000 -1 -1»
      «line (0,-200) (0,-70) 0 0 0x1000000 -1 -1»
      «triangle (0,80) (100,-70) (-100,-70) 0 0 0x1000000 0x2000000 -1 -1»
      «text (100,200) 1 7 0 0x1000000 -1 -1 "D1"»
      «text (100,-200) 1 7 0 0x1000000 -1 -1 "Dm"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "A"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "K"»
    »
  »
  «component (200,1900) 2 0
    «symbol SW
      «type: S»
      «description: Voltage Controlled Switch»
      «shorted pins: false»
      «line (-136,100) (-200,100) 0 0 0x1000000 -1 -1»
      «line (-136,100) (-121,89) 0 0 0x1000000 -1 -1»
      «line (-136,-100) (-200,-100) 0 0 0x1000000 -1 -1»
      «line (-165,91) (-165,61) 0 0 0x1000000 -1 -1»
      «line (-180,76) (-150,76) 0 0 0x1000000 -1 -1»
      «line (-180,-76) (-150,-76) 0 0 0x1000000 -1 -1»
      «line (-136,-100) (-121,-89) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,105) 0 0 0x1000000 -1 -1»
      «line (0,-200) (0,-105) 0 0 0x1000000 -1 -1»
      «line (94,-45) (15,60) 0 0 0x1000000 -1 -1»
      «ellipse (-150,-150) (150,150) 0 0 0 0x1000000 0x1000000 -1 -1»
      «ellipse (-25,55) (25,105) 0 0 0 0x1000000 0x1000000 -1 -1»
      «ellipse (-25,-105) (25,-55) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (150,-200) 1 103 0 0x1000000 -1 -1 "S1"»
      «text (-150,-200) 1 103 0 0x1000000 -1 -1 "Sm"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "1"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "2"»
      «pin (-200,100) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (-200,-100) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (-300,1600) 0 0
    «symbol V
      «type: V»
      «description: Independent Voltage Source»
      «shorted pins: false»
      «line (0,-130) (0,-200) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,130) 0 0 0x1000000 -1 -1»
      «rect (-25,77) (25,73) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-2,50) (2,100) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-25,-73) (25,-77) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «ellipse (-130,130) (130,-130) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "V3"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "10"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (-800,500) 0 0
    «symbol Comptr_Ideal
      «type: X»
      «description: Ideal Comparator with 0/1 Output»
      «library file: |.SUBCKT Comptr_Ideal pos neg out\nB1 out 0 V=V(pos)>V(neg)\n.ends»
      «shorted pins: false»
      «line (0,-400) (0,400) 0 0 0x1000000 -1 -1»
      «line (0,400) (600,0) 0 0 0x1000000 -1 -1»
      «line (600,0) (0,-400) 0 0 0x1000000 -1 -1»
      «line (50,200) (150,200) 0 0 0x1000000 -1 -1»
      «line (100,250) (100,150) 0 0 0x1000000 -1 -1»
      «line (50,-200) (150,-200) 0 0 0x1000000 -1 -1»
      «text (550,-350) 1 0 0 0x1000000 -1 -1 "X1"»
      «text (1000,-200) 1 0 0 0x1000000 -1 -1 "COMPTR_IDEAL"»
      «pin (0,200) (20,0) 1 15 0 0x0 -1 "pos"»
      «pin (0,-200) (-20,0) 1 15 0 0x0 -1 "neg"»
      «pin (600,0) (0,10) 1 15 0 0x0 -1 "out"»
    »
  »
  «net (-2200,-400) 1 13 0 "GND"»
  «net (2700,1900) 1 7 1 "out"»
  «net (1600,1300) 1 13 0 "GND"»
  «net (2100,1300) 1 13 0 "GND"»
  «net (-1300,700) 1 14 0 "ctrl"»
  «net (-1300,-400) 1 13 0 "GND"»
  «net (-1300,200) 1 7 0 "saw"»
  «net (700,1300) 1 13 0 "GND"»
  «net (-300,1300) 1 13 0 "GND"»
  «net (300,1700) 1 13 0 "GND"»
  «net (100,1400) 1 7 0 "gate"»
  «junction (2100,1900)»
  «junction (1600,1900)»
  «junction (700,1900)»
  «wire (2100,1800) (2100,1900) "out"»
  «wire (2100,1300) (2100,1400) "GND"»
  «wire (1600,1900) (1300,1900) "out"»
  «wire (1600,1300) (1600,1400) "GND"»
  «wire (1600,1800) (1600,1900) "out"»
  «wire (2100,1900) (1600,1900) "out"»
  «wire (-1300,700) (-2200,700) "ctrl"»
  «wire (2700,1900) (2100,1900) "out"»
  «wire (700,1900) (900,1900) "N01"»
  «wire (-1300,100) (-1300,200) "saw"»
  «wire (-1300,-400) (-1300,-300) "GND"»
  «wire (-2200,600) (-2200,700) "ctrl"»
  «wire (-2200,0) (-2200,200) "N02"»
  «wire (700,1800) (700,1900) "N01"»
  «wire (700,1300) (700,1400) "GND"»
  «wire (0,1900) (-300,1900) "N03"»
  «wire (700,1900) (400,1900) "N01"»
  «wire (-300,1400) (-300,1300) "GND"»
  «wire (-300,1900) (-300,1800) "N03"»
  «wire (100,1400) (100,1700) "gate"»
  «wire (-800,700) (-1300,700) "ctrl"»
  «wire (-800,300) (-1300,300) "saw"»
  «wire (-1300,300) (-1300,200) "saw"»
  «wire (-200,500) (100,500) "gate"»
  «wire (100,500) (100,1400) "gate"»
  «line (-2200,-800) (4350,-800) 0 2 0xff0000 -1 -1»
  «line (-400,-800) (-400,-2200) 0 2 0xff0000 -1 -1»
  «line (1500,-800) (1500,-2200) 0 2 0xff0000 -1 -1»
  «text (-2150,-1200) 1 7 1 0x1000000 -1 -1 ".ac dec 100 10 10K"»
  «text (-250,-1200) 1 7 1 0x1000000 -1 -1 ".tran 20m uic"»
  «text (1600,-1200) 1 7 0 0x1000000 -1 -1 ".bode Vperturb 20m 100 10K 100m"»
  «text (-250,-1600) 1 7 0 0x1000000 -1 -1 ".plot tran V(out)\n.plot tran V(gate) \n.plot tran V(ctrl)"»
  «text (1600,-2050) 1 7 0 0x1000000 -1 -1 ".option bodeampfreq=0"»
  «text (-2150,-1400) 1 7 0 0x1000000 -1 -1 ".plot ac V(out)/V(ctrl)"»
  «text (1390,600) 1 7 0 0x1000000 -1 -1 ".param Qfactor=2\n.param fc=1K\n.param R=10"»
  «text (1390,50) 1 7 0 0x1000000 -1 -1 ".param L=R/2/pi/fc/Qfactor\n.param C=1/((2*pi*fc)**2)/L"»
  «text (1400,1000) 1 7 1 0x1000000 -1 -1 "LCR network parameters"»
  «text (-2150,-1000) 1 7 1 0x8000 -1 -1 "AC analysis"»
  «text (-250,-1000) 1 7 1 0x8000 -1 -1 "Transient analysis"»
  «text (1600,-1650) 1 7 0 0x1000000 -1 -1 ".option bodein=ctrl\n.option bodeout=out"»
  «text (1600,-1000) 1 7 1 0x8000 -1 -1 "Bode Frequency Response analysis"»
  «text (-1100,-400) 1 7 0 0x1000000 -1 -1 ".param fsw = 20K"»
  «text (1400,-300) 0.8 7 0 0x1000000 -1 -1 ".model Sm SW Ron=1m Roff=10Meg Vt=0.5 Vh=0"»
  «text (1400,-500) 0.8 7 0 0x1000000 -1 -1 ".model Dm D Ron=1m Roff=10Meg Vfwd=0"»
»

